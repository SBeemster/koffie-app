{"version":3,"sources":["webpack:///./src/app/modules/dashboard/dashboard-routing.module.ts","webpack:///./src/app/modules/dashboard/dashboard.component.html","webpack:///./src/app/modules/dashboard/dashboard.component.scss","webpack:///./src/app/modules/dashboard/dashboard.component.ts","webpack:///./src/app/modules/dashboard/dashboard.module.ts"],"names":[],"mappings":"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","file":"modules-dashboard-dashboard-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { DashboardComponent } from './dashboard.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: DashboardComponent,\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class DashboardRoutingModule { }\r\n\r\nexport const routedComponents = [\r\n    DashboardComponent\r\n];\r\n","module.exports = \"<div class=\\\"card mb-3\\\" [hidden]=\\\"!hasOrders\\\">\\r\\n        <div class=\\\"card-header\\\">\\r\\n            <button class=\\\"btn btn-link\\\" (click)=\\\"toggleOrders()\\\">\\r\\n                <h4>\\r\\n                    <i class=\\\"fa fa-plus fa-fw fa-lg fa-rotate-0\\\" [ngClass]=\\\"{'fa-rotate-135': showOrders}\\\"></i>\\r\\n                    Reeds bestelde drankjes\\r\\n                </h4>\\r\\n            </button>\\r\\n        </div>\\r\\n        <div [hidden]=\\\"!showOrders\\\">\\r\\n            <div class=\\\"card-body\\\">\\r\\n                <app-overview (notify)=\\\"onNotifyOrders($event)\\\"></app-overview>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n<div class=\\\"card mb-3\\\" [hidden]=\\\"!hasFavorite\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        <button class=\\\"btn btn-link\\\" (click)=\\\"toggleFavorite()\\\">\\r\\n            <h4>\\r\\n                <i class=\\\"fa fa-plus fa-fw fa-lg fa-rotate-0\\\" [ngClass]=\\\"{'fa-rotate-135': showFavorite}\\\"></i>\\r\\n                Bestel uw favoriet\\r\\n            </h4>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div [hidden]=\\\"!showFavorite\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n            <app-favorite (notifyFavorite)=\\\"onNotifyFavorite($event)\\\" (notifyPlaced)=\\\"onNotifyPlaced()\\\"></app-favorite>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"card mb-3\\\">\\r\\n    <div class=\\\"card-header\\\">\\r\\n        <button class=\\\"btn btn-link\\\" (click)=\\\"toggleDrinks()\\\">\\r\\n            <h4>\\r\\n                <i class=\\\"fa fa-plus fa-fw fa-lg fa-rotate-0\\\" [ngClass]=\\\"{'fa-rotate-135': showAllDrinks}\\\"></i>\\r\\n                Kies een drank\\r\\n            </h4>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div [hidden]=\\\"!showAllDrinks\\\">\\r\\n        <div class=\\\"card-body\\\">\\r\\n            <app-place></app-place>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"","module.exports = \".pointer {\\n  cursor: pointer; }\\n\\nh4 {\\n  margin: 0; }\\n\\n.fa {\\n  /* Safari */\\n  transition: all .3s ease-out; }\\n\\n.fa-rotate-0 {\\n  -webkit-transform: rotate(0deg);\\n  transform: rotate(0deg); }\\n\\n.fa-rotate-135 {\\n  -webkit-transform: rotate(135deg);\\n  transform: rotate(135deg); }\\n\"","import { Component, OnInit, Output, ViewChild, ElementRef } from '@angular/core';\r\nimport { AuthService } from 'src/app/core/services/auth.service';\r\nimport { DrinkPreference } from 'src/app/core/classes/drink-preference';\r\nimport { OrderLine } from 'src/app/core/classes/orderLine';\r\nimport { OverviewComponent } from '../order/overview/overview.component';\r\nimport * as Echarts from 'echarts';\r\n\r\n@Component({\r\n    selector: 'app-dashboard',\r\n    templateUrl: './dashboard.component.html',\r\n    styleUrls: ['./dashboard.component.scss']\r\n})\r\nexport class DashboardComponent implements OnInit {\r\n    @ViewChild(OverviewComponent) overview: OverviewComponent;\r\n\r\n    hasFavorite = false;\r\n    hasOrders = false;\r\n    hasOwnOrder = false;\r\n    showOrders = false;\r\n    showAllDrinks = true;\r\n    showManagerPanel = false;\r\n    showAdminPanel = false;\r\n    showFavorite = false;\r\n\r\n    private favoriteReceived: boolean;\r\n    private ordersReceived: boolean;\r\n\r\n    constructor(\r\n        private auth: AuthService\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    toggleDrinks(): void {\r\n        this.showAllDrinks = !this.showAllDrinks;\r\n    }\r\n    toggleManager(): void {\r\n        this.showManagerPanel = !this.showManagerPanel;\r\n    }\r\n\r\n    toggleAdmin(): void {\r\n        this.showAdminPanel = !this.showAdminPanel;\r\n    }\r\n    isManager(): boolean {\r\n        return this.auth.hasRole('Manager');\r\n    }\r\n    isAdmin(): boolean {\r\n        return this.auth.hasRole('Admin');\r\n    }\r\n\r\n    toggleFavorite(): void {\r\n        this.showFavorite = !this.showFavorite;\r\n    }\r\n\r\n    toggleOrders(): void {\r\n        this.showOrders = !this.showOrders;\r\n    }\r\n\r\n    onNotifyFavorite(drinkPreference: DrinkPreference): void {\r\n        this.hasFavorite = drinkPreference.drink != null;\r\n        this.setState(true, null);\r\n    }\r\n\r\n    onNotifyOrders(orderLines: OrderLine[]): void {\r\n        this.hasOrders = orderLines.length > 0;\r\n        this.hasOwnOrder = !!orderLines.find(orderLine => {\r\n            return orderLine.customer.userId === this.auth.getDecodedToken().nameid;\r\n        });\r\n        this.setState(null, true);\r\n    }\r\n\r\n    onNotifyPlaced(): void {\r\n        this.overview.refreshOrders();\r\n    }\r\n\r\n    private setState(favoriteReceived: boolean, ordersReceived: boolean) {\r\n        this.favoriteReceived = this.favoriteReceived || favoriteReceived;\r\n        this.ordersReceived = this.ordersReceived || ordersReceived;\r\n\r\n        if (this.favoriteReceived && this.ordersReceived) {\r\n            this.showOrders = this.hasOrders && this.hasOwnOrder;\r\n            this.showFavorite = this.hasFavorite && !this.hasOwnOrder;\r\n            this.showAllDrinks = !this.hasOwnOrder && !this.hasFavorite;\r\n        }\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { routedComponents, DashboardRoutingModule } from './dashboard-routing.module';\r\nimport { OrderModule } from '../order/order.module';\r\nimport { UserModule } from '../user/user.module';\r\nimport { ReportsModule } from '../reports/reports.module';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule, DashboardRoutingModule, OrderModule, UserModule, ReportsModule\r\n    ],\r\n    declarations: [...routedComponents]\r\n})\r\nexport class DashboardModule { }\r\n"],"sourceRoot":""}